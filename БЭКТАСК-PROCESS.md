# –ë–≠–ö–¢–ê–°–ö-PROCESS.md

**–î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–µ–∫–µ–Ω–¥ –∫–æ–¥–∞ –Ω–∞ Go –Ω–∞ –æ—Å–Ω–æ–≤–µ API Swagger —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π**

üìñ **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** [–ë–≠–ö–¢–ê–°–ö.MD](./–ë–≠–ö–¢–ê–°–ö.MD) | [–ë–≠–ö–¢–ê–°–ö-REQUIREMENTS.md](./–ë–≠–ö–¢–ê–°–ö-REQUIREMENTS.md) | [–ë–≠–ö–¢–ê–°–ö-FAQ.md](./–ë–≠–ö–¢–ê–°–ö-FAQ.md) | [–ë–≠–ö–¢–ê–°–ö-ARCHITECTURE.md](./–ë–≠–ö–¢–ê–°–ö-ARCHITECTURE.md)

---

## –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞

### –®–∞–≥ 1: –ß—Ç–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –∏ API Swagger

–ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω:
1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å `BACK-GO/.cursor/rules/back-go-rules.mdc` - –ø–æ–Ω—è—Ç—å –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –±–µ–∫–µ–Ω–¥–æ–º
2. –ü—Ä–æ—á–∏—Ç–∞—Ç—å API Swagger —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∏–∑ `API-SWAGGER/api/v1/*.yaml` –ø–æ–ª–Ω–æ—Å—Ç—å—é
3. –ü–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É API: endpoints, –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –æ—Ç–≤–µ—Ç—ã
4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –≤ `BACK-GO/internal/` –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤ —Å—Ç–∏–ª—è –∏ —Ñ–æ—Ä–º–∞—Ç–∞
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ `docker-compose up -d` (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `BACK-GO/docker-compose.yml`)

---

### –®–∞–≥ 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Go —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ Swagger Codegen

–ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω:

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å OpenAPI Generator (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):

**OpenAPI Generator (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ npm
npm install @openapitools/openapi-generator-cli -g

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker
docker pull openapitools/openapi-generator-cli
```

#### 2. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Go —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–¥:

**–ò—Å–ø–æ–ª—å–∑—É—è OpenAPI Generator:**
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Go —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥–∞
openapi-generator-cli generate \
  -i API-SWAGGER/api/v1/gameplay/social/personal-npc-tool.yaml \
  -g go-server \
  -o BACK-GO/internal/api/generated/personal-npc-tool \
  --additional-properties=packageName=personalnpc,serverPort=8080
```

**–ò–ª–∏ –¥–ª—è Gin/Echo/Fiber:**
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Go —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥–∞ —Å Gin
openapi-generator-cli generate \
  -i API-SWAGGER/api/v1/gameplay/social/personal-npc-tool.yaml \
  -g go-gin-server \
  -o BACK-GO/internal/api/generated/personal-npc-tool \
  --additional-properties=packageName=personalnpc

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Go —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥–∞ —Å Echo
openapi-generator-cli generate \
  -i API-SWAGGER/api/v1/gameplay/social/personal-npc-tool.yaml \
  -g go-echo-server \
  -o BACK-GO/internal/api/generated/personal-npc-tool \
  --additional-properties=packageName=personalnpc

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Go —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–¥–∞ —Å Fiber
openapi-generator-cli generate \
  -i API-SWAGGER/api/v1/gameplay/social/personal-npc-tool.yaml \
  -g go-fiber-server \
  -o BACK-GO/internal/api/generated/personal-npc-tool \
  --additional-properties=packageName=personalnpc
```

#### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥:

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ API endpoints —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Go —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

#### 4. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–∏–∑ `servers` –≤ Swagger)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (Bearer token)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

---

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ handlers, services, repositories

–ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω:

#### 1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–∞:

- **Handlers:** –°–æ–∑–¥–∞—Ç—å handlers –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `personal_npc_handler.go`)
- **Services:** –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `personal_npc_service.go`)
- **Repositories:** –°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î (–Ω–∞–ø—Ä–∏–º–µ—Ä, `personal_npc_repository.go`)
- **Models:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

#### 2. –°–æ–∑–¥–∞—Ç—å handlers —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤:

**SOLID:**
- –û–¥–∏–Ω handler - –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- Handlers –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º–∏
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ dependency injection

**DRY:**
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ middleware
- –í—ã–Ω–æ—Å–∏—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â—É—é—Å—è –ª–æ–≥–∏–∫—É –≤ —Å–µ—Ä–≤–∏—Å—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã

**KISS:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞
- –ò–∑–±–µ–≥–∞—Ç—å –∏–∑–ª–∏—à–Ω–µ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
- –ü–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–π

#### 3. –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã handler:

```go
// internal/handlers/gameplay/social/personal_npc_handler.go
package personalnpc

import (
    "net/http"
    "github.com/gin-gonic/gin"
    "github.com/your-org/back-go/internal/services/gameplay/social"
    "github.com/your-org/back-go/internal/api/generated/personal-npc-tool/models"
)

type PersonalNPCHandler struct {
    service *personalnpc.Service
}

func NewPersonalNPCHandler(service *personalnpc.Service) *PersonalNPCHandler {
    return &PersonalNPCHandler{
        service: service,
    }
}

// GetPersonalNPCs –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç GET –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ NPC
func (h *PersonalNPCHandler) GetPersonalNPCs(c *gin.Context) {
    npcs, err := h.service.GetAllNPCs(c.Request.Context())
    if err != nil {
        c.JSON(http.StatusInternalServerError, gin.H{"error": err.Error()})
        return
    }
    
    c.JSON(http.StatusOK, npcs)
}

// GetPersonalNPC –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç GET –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ NPC
func (h *PersonalNPCHandler) GetPersonalNPC(c *gin.Context) {
    id := c.Param("id")
    
    npc, err := h.service.GetNPCByID(c.Request.Context(), id)
    if err != nil {
        c.JSON(http.StatusNotFound, gin.H{"error": err.Error()})
        return
    }
    
    c.JSON(http.StatusOK, npc)
}

// CreatePersonalNPC –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç POST –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è NPC
func (h *PersonalNPCHandler) CreatePersonalNPC(c *gin.Context) {
    var npc models.PersonalNPC
    if err := c.ShouldBindJSON(&npc); err != nil {
        c.JSON(http.StatusBadRequest, gin.H{"error": err.Error()})
        return
    }
    
    createdNPC, err := h.service.CreateNPC(c.Request.Context(), &npc)
    if err != nil {
        c.JSON(http.StatusInternalServerError, gin.H{"error": err.Error()})
        return
    }
    
    c.JSON(http.StatusCreated, createdNPC)
}
```

#### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤:

- **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å 400 —Å—Ç—Ä–æ–∫
- –ï—Å–ª–∏ —Ñ–∞–π–ª –±–æ–ª—å—à–µ 400 —Å—Ç—Ä–æ–∫ - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤:
  - –†–∞–∑–¥–µ–ª–∏—Ç—å handlers –ø–æ –º–µ—Ç–æ–¥–∞–º (GET, POST, PUT, DELETE)
  - –í—ã–Ω–µ—Å—Ç–∏ –æ–±—â—É—é –ª–æ–≥–∏–∫—É –≤ —Å–µ—Ä–≤–∏—Å—ã
  - –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –ø–æ–¥—Ñ–∞–π–ª—ã –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

---

### –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î

–ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω:

#### 1. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Å—Ö–µ–º—ã –ë–î:

**–ò—Å–ø–æ–ª—å–∑—É—è migrate:**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
migrate create -ext sql -dir migrations -seq create_personal_npc_table
```

**–ò—Å–ø–æ–ª—å–∑—É—è goose:**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
goose -dir migrations create create_personal_npc_table sql
```

#### 2. –ù–∞–ø–∏—Å–∞—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é —Å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é:

**–í–ê–ñ–ù–û:** –ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º–∏ (–º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –±–µ–∑ –æ—à–∏–±–æ–∫)

```sql
-- migrations/000001_create_personal_npc_table.up.sql
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
CREATE TABLE IF NOT EXISTS personal_npc (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(255) NOT NULL,
    owner_id UUID NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMP NOT NULL DEFAULT NOW(),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

-- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
CREATE INDEX IF NOT EXISTS idx_personal_npc_owner_id ON personal_npc(owner_id);
```

```sql
-- migrations/000001_create_personal_npc_table.down.sql
-- –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
DROP INDEX IF EXISTS idx_personal_npc_owner_id;
DROP TABLE IF EXISTS personal_npc;
```

#### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–π:

- **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å 400 —Å—Ç—Ä–æ–∫
- –ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è –±–æ–ª—å—à–µ 400 —Å—Ç—Ä–æ–∫ - —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–≥—Ä–∞—Ü–∏–π:
  - –†–∞–∑–¥–µ–ª–∏—Ç—å –ø–æ —Ç–∞–±–ª–∏—Ü–∞–º
  - –†–∞–∑–¥–µ–ª–∏—Ç—å –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

#### 4. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (seed –¥–∞–Ω–Ω—ã–µ):

**–í–ê–ñ–ù–û:** –°–æ–∑–¥–∞–≤–∞—Ç—å seed –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏—Ö –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω–µ –±—ã–ª–æ –≤ –ë–î. –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∑–∞–ª–∏–≤–∫–æ–π!

**–°–ø–æ—Å–æ–± 1: –û—Ç–¥–µ–ª—å–Ω–∞—è seed –º–∏–≥—Ä–∞—Ü–∏—è**
```sql
-- migrations/000002_seed_personal_npc_data.up.sql
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
DO $$
BEGIN
    -- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π
    IF NOT EXISTS (SELECT 1 FROM personal_npc LIMIT 1) THEN
        INSERT INTO personal_npc (id, name, owner_id) VALUES
        ('00000000-0000-0000-0000-000000000001', 'Test NPC 1', '00000000-0000-0000-0000-000000000001'),
        ('00000000-0000-0000-0000-000000000002', 'Test NPC 2', '00000000-0000-0000-0000-000000000001');
    END IF;
END $$;
```

```sql
-- migrations/000002_seed_personal_npc_data.down.sql
-- –û—Ç–∫–∞—Ç seed –¥–∞–Ω–Ω—ã—Ö
DELETE FROM personal_npc WHERE id IN (
    '00000000-0000-0000-0000-000000000001',
    '00000000-0000-0000-0000-000000000002'
);
```

**–°–ø–æ—Å–æ–± 2: –û—Ç–¥–µ–ª—å–Ω—ã–π seed —Å–∫—Ä–∏–ø—Ç**
```go
// migrations/seed/seed_personal_npc.go
package seed

import (
    "context"
    "github.com/jackc/pgx/v5"
)

func SeedPersonalNPC(ctx context.Context, db *pgx.Conn) error {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –¥–∞–Ω–Ω—ã—Ö
    var count int
    err := db.QueryRow(ctx, "SELECT COUNT(*) FROM personal_npc").Scan(&count)
    if err != nil {
        return err
    }
    
    // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –µ—Å—Ç—å, –Ω–µ –∑–∞–ª–∏–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ
    if count > 0 {
        return nil
    }
    
    // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    _, err = db.Exec(ctx, `
        INSERT INTO personal_npc (id, name, owner_id) VALUES
        ($1, $2, $3),
        ($4, $5, $6)
    `, 
        "00000000-0000-0000-0000-000000000001", "Test NPC 1", "00000000-0000-0000-0000-000000000001",
        "00000000-0000-0000-0000-000000000002", "Test NPC 2", "00000000-0000-0000-0000-000000000001",
    )
    
    return err
}
```

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ seed –¥–∞–Ω–Ω—ã—Ö:**
```bash
# –ß–µ—Ä–µ–∑ migrate
migrate -path migrations -database "postgres://necpgame:necpgame@localhost:5432/necpgame?sslmode=disable" up

# –ß–µ—Ä–µ–∑ Go —Å–∫—Ä–∏–ø—Ç
go run migrations/seed/seed_personal_npc.go
```

#### 5. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
migrate -path migrations \
  -database "postgres://necpgame:necpgame@localhost:5432/necpgame?sslmode=disable" \
  up
```

---

### –®–∞–≥ 5: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞

–ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤:**
   - –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å 400 —Å—Ç—Ä–æ–∫
   - –ï—Å–ª–∏ —Ñ–∞–π–ª –±–æ–ª—å—à–µ 400 —Å—Ç—Ä–æ–∫ - —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –ª–æ–≥–∏—á–Ω–æ –∏ –≤—Å–µ —Å–≤—è–∑–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:**
   - SOLID: –æ–¥–∏–Ω handler/service/repository - –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
   - DRY: –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
   - KISS: –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Go —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã:**
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ `gofmt`
   - –õ–∏–Ω—Ç–∏–Ω–≥ —á–µ—Ä–µ–∑ `golangci-lint`
   - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ `go vet`

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:**
   - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ API-SWAGGER
   - –õ–æ–≥–∏—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
   - README.md –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫:**
   - –í—Å–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ï—Å—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
   - –ï—Å—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ HTTP –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

6. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –ë–î:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ë–î
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ API Swagger —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏:
   - –í—Å–µ endpoints —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –í—Å–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –æ—Ç–≤–µ—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

---

### –®–∞–≥ 6: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è

–ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±–µ–∫–µ–Ω–¥ –∫–æ–¥ —Å–æ–∑–¥–∞–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º —Ä–∞–∑–º–µ—Ä–∞ (400 —Å—Ç—Ä–æ–∫)
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID, DRY, KISS
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π API-SWAGGER
5. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç** –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã

---

### –®–∞–≥ 7: –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –∑–∞–¥–∞–Ω–∏–µ–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∏ –ª—É—á—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–µ–π—Å—Ç–≤–∏–π –∞–≥–µ–Ω—Ç–æ–≤.

–ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–∫–æ–º–º–∏—Ç–∞: `scripts/autocommit.ps1` (Windows) –∏–ª–∏ `scripts/autocommit.sh` (Linux/Mac)
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
   ```bash
   # Windows
   .\scripts\autocommit.ps1 "–°–æ–∑–¥–∞–Ω –±–µ–∫–µ–Ω–¥ –∫–æ–¥ –¥–ª—è API: personal-npc-tool"
   
   # Linux/Mac
   ./scripts/autocommit.sh "–°–æ–∑–¥–∞–Ω –±–µ–∫–µ–Ω–¥ –∫–æ–¥ –¥–ª—è API: personal-npc-tool"
   ```
3. –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, —Å–∫—Ä–∏–ø—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
4. –ö–æ–º–º–∏—Ç –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å:
   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Go —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–¥ (–≤ `internal/api/generated/`)
   - –°–æ–∑–¥–∞–Ω–Ω—ã–µ handlers (–≤ `internal/handlers/`)
   - –°–æ–∑–¥–∞–Ω–Ω—ã–µ services (–≤ `internal/services/`)
   - –°–æ–∑–¥–∞–Ω–Ω—ã–µ repositories (–≤ `internal/repositories/`)
   - –°–æ–∑–¥–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–≤ `migrations/`)

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –õ—É—á—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–µ–π—Å—Ç–≤–∏–π –∞–≥–µ–Ω—Ç–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

üìñ **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** [–ë–≠–ö–¢–ê–°–ö.MD](./–ë–≠–ö–¢–ê–°–ö.MD) | [–ë–≠–ö–¢–ê–°–ö-REQUIREMENTS.md](./–ë–≠–ö–¢–ê–°–ö-REQUIREMENTS.md) | [–ë–≠–ö–¢–ê–°–ö-FAQ.md](./–ë–≠–ö–¢–ê–°–ö-FAQ.md) | [–ë–≠–ö–¢–ê–°–ö-ARCHITECTURE.md](./–ë–≠–ö–¢–ê–°–ö-ARCHITECTURE.md)

