# –ê–Ω–∞–ª–∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ OpenAPI —Ñ–∞–π–ª–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤

## üìã –û–±–∑–æ—Ä

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ OpenAPI —Ñ–∞–π–ª–∞ `API-SWAGGER/api/v1/auth/character-creation.yaml` –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã OpenAPI —Ñ–∞–π–ª–∞

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ paths (endpoints)

**‚úÖ –ö–û–†–†–ï–ö–¢–ù–û:**
- –í—Å–µ endpoints –æ–ø–∏—Å–∞–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ `paths`
- –ú–µ—Ç–æ–¥—ã HTTP —É–∫–∞–∑–∞–Ω—ã (GET, POST, DELETE)
- –ü—É—Ç–∏ —É–∫–∞–∑–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (`/auth/register`, `/auth/login`, `/characters`, –∏ —Ç.–¥.)

**–ü—Ä–∏–º–µ—Ä:**
```yaml
paths:
  /auth/register:
    post:
      summary: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
      operationId: register
      tags:
        - Auth
        - Registration
```

### 2. –ù–∞–ª–∏—á–∏–µ operationId

**‚úÖ –ö–û–†–†–ï–ö–¢–ù–û:**
- –í—Å–µ endpoints –∏–º–µ—é—Ç `operationId`:
  - `register`
  - `login`
  - `listCharacters`
  - `createCharacter`
  - `deleteCharacter`
  - `getCharacterClasses`
  - `getCharacterOrigins`
  - `getFactions`
  - `getCities`

### 3. –ù–∞–ª–∏—á–∏–µ tags –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

**‚úÖ –ö–û–†–†–ï–ö–¢–ù–û:**
- –í—Å–µ endpoints –∏–º–µ—é—Ç `tags`:
  - `Auth`, `Registration`, `Login`
  - `Characters`, `Character Creation`
  - `Reference Data`, `Factions`, `Locations`

### 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ components/schemas

**‚úÖ –ö–û–†–†–ï–ö–¢–ù–û:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `$ref` –¥–ª—è —Å—Å—ã–ª–æ–∫ –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Ñ–∞–π–ª—ã:
  ```yaml
  components:
    schemas:
      RegisterRequest:
        $ref: './character-creation-models.yaml#/components/schemas/RegisterRequest'
  ```
- –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É DRY –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—é —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ (400 —Å—Ç—Ä–æ–∫)

### 5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**‚úÖ –ö–û–†–†–ï–ö–¢–ù–û:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ `$ref`:
  ```yaml
  '400':
    $ref: '../shared/common/responses.yaml#/components/responses/BadRequest'
  '401':
    $ref: '../shared/common/responses.yaml#/components/responses/Unauthorized'
  ```
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É DRY

### 6. –ù–∞–ª–∏—á–∏–µ vendorExtensions (x-*)

**‚ùå –û–¢–°–£–¢–°–¢–í–£–Æ–¢:**
- VendorExtensions (x-*) –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ OpenAPI —Ñ–∞–π–ª–µ
- –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

## üîç –ü—Ä–æ–±–ª–µ–º–∞ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:

1. **OpenAPI —Ñ–∞–π–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è, –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ–ø–∏—Å–∞–Ω—ã
2. **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è** - —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–ª–∞—Å—Å—ã `AuthApiController`, `CharactersApiController`, –∏ —Ç.–¥.
3. **–ù–û –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –ü–£–°–¢–´–ï** - —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ –º–µ—Ç–æ–¥ `getRequest()`
4. **–ú–µ—Ç–æ–¥—ã –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö** - –∏–º–µ—é—Ç `default` —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é `NOT_IMPLEMENTED`

### –ü—Ä–∏—á–∏–Ω–∞:

OpenAPI Generator –¥–ª—è Spring Boot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **delegate pattern** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- –ú–µ—Ç–æ–¥—ã –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö –∏–º–µ—é—Ç `default` —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å `NOT_IMPLEMENTED`
- –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –º–µ—Ç–æ–¥–æ–≤

–≠—Ç–æ **—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** OpenAPI Generator –¥–ª—è Spring Boot, –¥–∞–∂–µ —Å `interfaceOnly=false` –∏ `delegatePattern=false`.

## üí° –†–µ—à–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π —à–∞–±–ª–æ–Ω `api.mustache`

**–ü–æ–¥—Ö–æ–¥:**
- –°–æ–∑–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π —à–∞–±–ª–æ–Ω `api.mustache` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `apiTemplateFiles` –≤ `pom.xml`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```xml
<apiTemplateFiles>
    <apiTemplateFile>ControllerImpl.mustache</apiTemplateFile>
</apiTemplateFiles>
```

**–ü–ª—é—Å—ã:**
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–∑–æ–≤–∞ Services
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@RestController` –≤–º–µ—Å—Ç–æ `@Controller`

**–ú–∏–Ω—É—Å—ã:**
- –ù—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π —à–∞–±–ª–æ–Ω
- –¢—Ä–µ–±—É–µ—Ç –∑–Ω–∞–Ω–∏—è Mustache –∏ OpenAPI Generator –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### –†–µ—à–µ–Ω–∏–µ 2: –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é

**–ü–æ–¥—Ö–æ–¥:**
- –û—Å—Ç–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –∫–∞–∫ –µ—Å—Ç—å (delegate pattern)
- –°–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –≤—Ä—É—á–Ω—É—é –≤ `src/main/java/com/necpgame/backjava/controllers/`

**–ü–ª—é—Å—ã:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞
- –ù–µ –Ω—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π

**–ú–∏–Ω—É—Å—ã:**
- –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å + —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

### –†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å vendorExtensions –≤ OpenAPI —Ñ–∞–π–ª–µ

**–ü–æ–¥—Ö–æ–¥:**
- –î–æ–±–∞–≤–∏—Ç—å vendorExtensions –≤ OpenAPI —Ñ–∞–π–ª –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Å—Ç–∏–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –ù–∞–ø—Ä–∏–º–µ—Ä: `x-spring-controller-name`, `x-spring-service-name`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- OpenAPI Generator –¥–ª—è Spring Boot –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç vendorExtensions –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∏–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
- VendorExtensions –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ –∏–º–µ–Ω –∫–ª–∞—Å—Å–æ–≤ –∏ –ø–∞–∫–µ—Ç–æ–≤

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π

| –†–µ—à–µ–Ω–∏–µ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ö–æ–Ω—Ç—Ä–æ–ª—å | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|---------|-----------|----------|-----------|--------------|
| **–ö–∞—Å—Ç–æ–º–Ω—ã–π —à–∞–±–ª–æ–Ω** | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∏–π | –¢—Ä–µ–±—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
| **–†—É—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** | –ù–∏–∑–∫–∞—è | –ü–æ–ª–Ω—ã–π | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | ‚ö†Ô∏è –ï—Å–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π —à–∞–±–ª–æ–Ω —Å–ª–æ–∂–µ–Ω |
| **VendorExtensions** | –ù–∏–∑–∫–∞—è | –ù–∏–∑–∫–∏–π | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | ‚ùå –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è OpenAPI —Ñ–∞–π–ª–æ–≤:

1. **‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è** - –Ω–∏—á–µ–≥–æ –º–µ–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ
2. **‚úÖ –°–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –∏–∑ –ê–ü–ò–¢–ê–°–ö** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ `$ref`
3. **‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞** - –Ω–µ –ø—Ä–µ–≤—ã—à–∞—Ç—å 400 —Å—Ç—Ä–æ–∫ –Ω–∞ —Ñ–∞–π–ª
4. **‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –¥–æ–±–∞–≤–ª—è—Ç—å –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è endpoints –∏ –º–æ–¥–µ–ª–µ–π

### –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤:

1. **‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π —à–∞–±–ª–æ–Ω `api.mustache`** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π
2. **‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ Services** –≤ —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
3. **‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@RestController`** –≤–º–µ—Å—Ç–æ `@Controller` –≤ —à–∞–±–ª–æ–Ω–µ

## üìù –í—ã–≤–æ–¥

**–ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ OpenAPI —Ñ–∞–π–ª–∞!**

OpenAPI —Ñ–∞–π–ª `character-creation.yaml` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω:
- ‚úÖ –í—Å–µ endpoints –æ–ø–∏—Å–∞–Ω—ã
- ‚úÖ –í—Å–µ operationId –µ—Å—Ç—å
- ‚úÖ –í—Å–µ tags –µ—Å—Ç—å
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ `$ref`
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –∏–∑ –ê–ü–ò–¢–ê–°–ö

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- OpenAPI Generator –¥–ª—è Spring Boot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç delegate pattern –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –Ω–µ –∑–∞–≤–∏—Å—è—â–µ–µ –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã OpenAPI —Ñ–∞–π–ª–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π —à–∞–±–ª–æ–Ω `api.mustache` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
- –ò–ª–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –≤—Ä—É—á–Ω—É—é

