# ะะญะะขะะกะ-ARCHITECTURE.md

**ะััะธัะตะบัััะฐ, ััััะบัััะฐ ะดะธัะตะบัะพัะธะน ะธ ัะพะพัะฒะตัััะฒะธะต API-SWAGGER**

๐ **ะะฐะฒะธะณะฐัะธั:** [ะะญะะขะะกะ.MD](./ะะญะะขะะกะ.MD) | [ะะญะะขะะกะ-PROCESS.md](./ะะญะะขะะกะ-PROCESS.md) | [ะะญะะขะะกะ-REQUIREMENTS.md](./ะะญะะขะะกะ-REQUIREMENTS.md) | [ะะญะะขะะกะ-FAQ.md](./ะะญะะขะะกะ-FAQ.md)

---

## ะััะธัะตะบัััะฐ ะธ ะธะตัะฐััะธั ะดะธัะตะบัะพัะธะน

**ะะะะะ:** ะะณะตะฝั ะะะฏะะะ ัะปะตะดะพะฒะฐัั ัััะฐะฝะพะฒะปะตะฝะฝะพะน ะฐััะธัะตะบัััะต ะธ ะธะตัะฐััะธะธ ะดะธัะตะบัะพัะธะน ะดะปั ะปัััะตะณะพ ะบะพะฝััะพะปั ะดะตะนััะฒะธะน ะธ ะฟะพะปััะตะฝะธั ะปัััะตะณะพ ัะตะทัะปััะฐัะฐ.

---

## ะัะฝะพะฒะฝัะต ะฟัะธะฝัะธะฟั ะฐััะธัะตะบัััั

1. **ะกะพะพัะฒะตัััะฒะธะต API-SWAGGER:** ะกัััะบัััะฐ ะฑะตะบะตะฝะด ะบะพะดะฐ ะดะพะปะถะฝะฐ ัะพะพัะฒะตัััะฒะพะฒะฐัั ััััะบัััะต API-SWAGGER
2. **ะะตัะฐััะธัะตัะบะฐั ััััะบัััะฐ:** ะั ะพะฑัะตะณะพ ะบ ัะฐััะฝะพะผั, ัะพะพัะฒะตัััะฒะธะต ััััะบัััะต API-SWAGGER
3. **ะะผะตะฝะพะฒะฐะฝะธะต:** ะคะฐะนะปั - `snake_case.go` ะดะปั Go ัะฐะนะปะพะฒ, ะดะธัะตะบัะพัะธะธ - `kebab-case` ะธะปะธ `snake_case`
4. **ะะณัะฐะฝะธัะตะฝะธะต ัะฐะทะผะตัะฐ:** ะะะะกะะะฃะ 400 ัััะพะบ ะฝะฐ ัะฐะนะป, ะตัะปะธ ะฑะพะปััะต - ัะฐะทะฑะธัั ะฝะฐ ะฝะตัะบะพะปัะบะพ ัะฐะนะปะพะฒ
5. **ะะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ:** ะะฐะทะดะตะปะตะฝะธะต ะฝะฐ handlers, services, repositories, models
6. **ะะพะบัะผะตะฝัะฐัะธั:** ะะฐะถะดะฐั ะดะธัะตะบัะพัะธั ะดะพะปะถะฝะฐ ะธะผะตัั README.md ั ะพะฑะทะพัะพะผ (ะตัะปะธ ะฝัะถะฝะพ)

---

## ะกัััะบัััะฐ ะดะธัะตะบัะพัะธะน ะฑะตะบะตะฝะด ะบะพะดะฐ

```
BACK-GO/
โโโ internal/
โ   โโโ api/
โ   โ   โโโ generated/                    # ะกะณะตะฝะตัะธัะพะฒะฐะฝะฝัะต Go ัะตัะฒะตัะฝัะต ัะฐะนะปั ะธะท API-SWAGGER
โ   โ       โโโ personal-npc-tool/        # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/gameplay/social/personal-npc-tool/
โ   โ       โ   โโโ api.go
โ   โ       โ   โโโ models.go
โ   โ       โ   โโโ routers.go
โ   โ       โโโ equipment-matrix/         # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/gameplay/economy/equipment-matrix/
โ   โ       โโโ ...
โ   โโโ handlers/                         # HTTP handlers ะดะปั ะพะฑัะฐะฑะพัะบะธ ะทะฐะฟัะพัะพะฒ
โ   โ   โโโ common/                       # ะะฑัะธะต handlers
โ   โ   โ   โโโ health_handler.go
โ   โ   โ   โโโ error_handler.go
โ   โ   โโโ gameplay/                     # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/gameplay/
โ   โ   โ   โโโ social/                   # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/gameplay/social/
โ   โ   โ   โ   โโโ personal_npc_handler.go
โ   โ   โ   โโโ economy/                  # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/gameplay/economy/
โ   โ   โ   โ   โโโ equipment_matrix_handler.go
โ   โ   โ   โโโ combat/                   # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/gameplay/combat/
โ   โ   โ   โโโ progression/              # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/gameplay/progression/
โ   โ   โโโ lore/                         # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/lore/
โ   โ   โ   โโโ factions_handler.go
โ   โ   โ   โโโ locations_handler.go
โ   โ   โ   โโโ characters_handler.go
โ   โ   โโโ narrative/                    # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/narrative/
โ   โ       โโโ quests_handler.go
โ   โ       โโโ dialogues_handler.go
โ   โโโ services/                         # ะกะตัะฒะธัั ะดะปั ะฑะธะทะฝะตั-ะปะพะณะธะบะธ
โ   โ   โโโ common/                       # ะะฑัะธะต ัะตัะฒะธัั
โ   โ   โ   โโโ auth_service.go
โ   โ   โโโ gameplay/                     # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/gameplay/
โ   โ   โ   โโโ social/
โ   โ   โ   โ   โโโ personal_npc_service.go
โ   โ   โ   โโโ ...
โ   โ   โโโ ...
โ   โโโ repositories/                     # ะะตะฟะพะทะธัะพัะธะธ ะดะปั ัะฐะฑะพัั ั ะะ
โ   โ   โโโ common/                       # ะะฑัะธะต ัะตะฟะพะทะธัะพัะธะธ
โ   โ   โ   โโโ base_repository.go
โ   โ   โโโ gameplay/                     # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/gameplay/
โ   โ   โ   โโโ social/
โ   โ   โ   โ   โโโ personal_npc_repository.go
โ   โ   โ   โโโ ...
โ   โ   โโโ ...
โ   โโโ models/                           # ะะพะดะตะปะธ ะดะฐะฝะฝัั (ะตัะปะธ ะฝะต ัะณะตะฝะตัะธัะพะฒะฐะฝั)
โ   โ   โโโ common.go
โ   โโโ middleware/                       # Middleware ะดะปั ะพะฑัะฐะฑะพัะบะธ ะทะฐะฟัะพัะพะฒ
โ   โ   โโโ auth.go
โ   โ   โโโ logging.go
โ   โ   โโโ error_handler.go
โ   โโโ config/                          # ะะพะฝัะธะณััะฐัะธั ะฟัะธะปะพะถะตะฝะธั
โ       โโโ config.go
โโโ migrations/                           # ะะธะณัะฐัะธะธ ะะ
โ   โโโ 000001_create_personal_npc_table.up.sql
โ   โโโ 000001_create_personal_npc_table.down.sql
โ   โโโ ...
โโโ cmd/
โ   โโโ server/
โ       โโโ main.go                       # ะขะพัะบะฐ ะฒัะพะดะฐ ะฟัะธะปะพะถะตะฝะธั
โโโ pkg/                                  # ะัะฑะปะธัะฝัะต ะฟะฐะบะตัั (ะตัะปะธ ะฝัะถะฝะพ)
โ   โโโ utils/
โ       โโโ helpers.go
โโโ scripts/
    โโโ autocommit.ps1
    โโโ autocommit.sh
```

---

## ะกะพะพัะฒะตัััะฒะธะต API-SWAGGER

**ะะะะะ:** ะกัััะบัััะฐ ะฑะตะบะตะฝะด ะบะพะดะฐ ะดะพะปะถะฝะฐ ัััะพะณะพ ัะพะพัะฒะตัััะฒะพะฒะฐัั ััััะบัััะต API-SWAGGER:

- `API-SWAGGER/api/v1/gameplay/social/personal-npc-tool/` โ `BACK-GO/internal/handlers/gameplay/social/personal_npc_handler.go`
- `API-SWAGGER/api/v1/gameplay/economy/equipment-matrix/` โ `BACK-GO/internal/handlers/gameplay/economy/equipment_matrix_handler.go`
- `API-SWAGGER/api/v1/gameplay/combat/` โ `BACK-GO/internal/handlers/gameplay/combat/`
- `API-SWAGGER/api/v1/lore/` โ `BACK-GO/internal/handlers/lore/`
- `API-SWAGGER/api/v1/narrative/` โ `BACK-GO/internal/handlers/narrative/`

**ะัะธะฝัะธะฟั ัะพะพัะฒะตัััะฒะธั:**
- ะะตัะฐััะธั ะดะธัะตะบัะพัะธะน ะดะพะปะถะฝะฐ ะฟะพะฒัะพัััั ะธะตัะฐััะธั API-SWAGGER
- ะะผะตะฝะฐ ะดะธัะตะบัะพัะธะน ะดะพะปะถะฝั ัะพะฒะฟะฐะดะฐัั (kebab-case ะธะปะธ snake_case)
- ะะผะตะฝะฐ ัะฐะนะปะพะฒ handlers ะดะพะปะถะฝั ะพััะฐะถะฐัั ัััั API (snake_case.go)
- ะกะณะตะฝะตัะธัะพะฒะฐะฝะฝัะต ัะฐะนะปั ะดะพะปะถะฝั ะฑััั ะฒ `internal/api/generated/{api-name}/`

---

## ะกัััะบัััะฐ ัะฐะนะปะพะฒ ะฟัะพะตะบัะฐ

```
BACK-GO/
โโโ ะะญะะขะะกะ.MD                           # ะะปะฐะฒะฝัะน ัะฐะนะป ะดะพะบัะผะตะฝัะฐัะธะธ
โโโ ะะญะะขะะกะ-PROCESS.md                   # ะัะพัะตัั ัะฐะฑะพัั ะฐะณะตะฝัะฐ
โโโ ะะญะะขะะกะ-REQUIREMENTS.md              # ะขัะตะฑะพะฒะฐะฝะธั ะธ ะบัะธัะตัะธะธ
โโโ ะะญะะขะะกะ-FAQ.md                       # FAQ ะธ ะฟัะธะผะตัั
โโโ ะะญะะขะะกะ-ARCHITECTURE.md              # ะญัะพั ัะฐะนะป
โโโ .cursor/
โ   โโโ rules/
โ       โโโ back-go-rules.mdc            # ะัะฐะฒะธะปะฐ ัะฐะฑะพัั ั ะฑะตะบะตะฝะดะพะผ
โโโ internal/
โ   โโโ api/
โ   โ   โโโ generated/                   # ะกะณะตะฝะตัะธัะพะฒะฐะฝะฝัะต Go ัะตัะฒะตัะฝัะต ัะฐะนะปั
โ   โ       โโโ {api-name}/              # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/{path}/
โ   โโโ handlers/
โ   โ   โโโ {path}/                      # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/{path}/
โ   โ       โโโ {handler_name}.go       # Handlers (ะดะพ 400 ัััะพะบ)
โ   โโโ services/
โ   โ   โโโ {path}/                      # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/{path}/
โ   โ       โโโ {service_name}.go        # Services (ะดะพ 400 ัััะพะบ)
โ   โโโ repositories/
โ   โ   โโโ {path}/                      # ะกะพะพัะฒะตัััะฒัะตั API-SWAGGER/api/v1/{path}/
โ   โ       โโโ {repository_name}.go     # Repositories (ะดะพ 400 ัััะพะบ)
โ   โโโ middleware/                      # Middleware
โ   โโโ config/                          # ะะพะฝัะธะณััะฐัะธั
โโโ migrations/                          # ะะธะณัะฐัะธะธ ะะ
โโโ cmd/
โ   โโโ server/
โ       โโโ main.go                      # ะขะพัะบะฐ ะฒัะพะดะฐ
โโโ scripts/
โ   โโโ autocommit.ps1
โ   โโโ autocommit.sh
โโโ go.mod                               # Go ะผะพะดัะปะธ
```

---

## ะกัััะบัััะฐ ะดะธัะตะบัะพัะธะธ ั handlers

ะะพะณะดะฐ handler ัะฐะทะฑะธั ะฝะฐ ะฝะตัะบะพะปัะบะพ ัะฐะนะปะพะฒ (ะดะปั ัะพะฑะปัะดะตะฝะธั ะพะณัะฐะฝะธัะตะฝะธั 400 ัััะพะบ), ััััะบัััะฐ ะดะพะปะถะฝะฐ ะฑััั ัะปะตะดัััะตะน:

```
BACK-GO/internal/handlers/gameplay/social/
โโโ README.md                            # ะะะฏะะะขะะะฌะะ: ะพะฟะธัะฐะฝะธะต ััััะบัััั handlers
โโโ personal_npc_handler.go              # ะะปะฐะฒะฝัะน handler (ะดะพ 400 ัััะพะบ)
โโโ personal_npc_handler_get.go         # GET ะผะตัะพะดั (ะดะพ 400 ัััะพะบ)
โโโ personal_npc_handler_post.go        # POST ะผะตัะพะดั (ะดะพ 400 ัััะพะบ)
โโโ personal_npc_handler_put.go         # PUT ะผะตัะพะดั (ะดะพ 400 ัััะพะบ)
โโโ personal_npc_handler_delete.go      # DELETE ะผะตัะพะดั (ะดะพ 400 ัััะพะบ)
```

### README.md ะฒ ะดะธัะตะบัะพัะธะธ:

```markdown
# Personal NPC Handler

Handlers ะดะปั ัะฐะฑะพัั ั Personal NPC Tool API.

## Handlers

- `personal_npc_handler.go` - ะัะฝะพะฒะฝะพะน handler
- `personal_npc_handler_get.go` - GET ะผะตัะพะดั
- `personal_npc_handler_post.go` - POST ะผะตัะพะดั
- `personal_npc_handler_put.go` - PUT ะผะตัะพะดั
- `personal_npc_handler_delete.go` - DELETE ะผะตัะพะดั

## Services

- `personal_npc_service.go` - ะกะตัะฒะธั ะดะปั ะฑะธะทะฝะตั-ะปะพะณะธะบะธ Personal NPC

## Repositories

- `personal_npc_repository.go` - ะะตะฟะพะทะธัะพัะธะน ะดะปั ัะฐะฑะพัั ั ะะ Personal NPC

## API

- ะกะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน ะบะพะด: `internal/api/generated/personal-npc-tool/`
- ะััะพัะฝะธะบ: `API-SWAGGER/api/v1/gameplay/social/personal-npc-tool/`
```

---

## ะะฐะถะฝัะต ะผะพะผะตะฝัั

### ะกะพะพัะฒะตัััะฒะธะต ะฐััะธัะตะบัััะต:

- ะกัััะบัััะฐ ะฑะตะบะตะฝะด ะบะพะดะฐ ะดะพะปะถะฝะฐ ัััะพะณะพ ัะพะพัะฒะตัััะฒะพะฒะฐัั ััััะบัััะต API-SWAGGER
- ะะฐะถะดะฐั ะดะธัะตะบัะพัะธั ะดะพะปะถะฝะฐ ะพััะฐะถะฐัั ะฟััั ะฒ API-SWAGGER
- ะะผะตะฝะฐ ัะฐะนะปะพะฒ ะดะพะปะถะฝั ะฑััั ะฟะพะฝััะฝัะผะธ ะธ ะพััะฐะถะฐัั ะฝะฐะทะฝะฐัะตะฝะธะต
- ะคะฐะนะปั handlers/services/repositories ะฝะต ะดะพะปะถะฝั ะฟัะตะฒััะฐัั 400 ัััะพะบ
- ะะผะตะฝะพะฒะฐะฝะธะต: ัะฐะนะปั - `snake_case.go`, ะดะธัะตะบัะพัะธะธ - `kebab-case` ะธะปะธ `snake_case`

### ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัั ัะฐะนะปะพะฒ:

- **ะะะฏะะะขะะะฌะะ** ะธัะฟะพะปัะทะพะฒะฐัั Swagger Codegen/OpenAPI Generator ะดะปั ะณะตะฝะตัะฐัะธะธ Go ัะตัะฒะตัะฝะพะณะพ ะบะพะดะฐ
- ะกะณะตะฝะตัะธัะพะฒะฐะฝะฝัะต ัะฐะนะปั ะดะพะปะถะฝั ะฑััั ะฒ `internal/api/generated/{api-name}/`
- ะะต ัะตะดะฐะบัะธัะพะฒะฐัั ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน ะบะพะด ะฒัััะฝัั
- ะัะฟะพะปัะทะพะฒะฐัั ัะธะฟั ะธะท ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัั ัะฐะนะปะพะฒ

### ะะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ:

- **Handlers** - ัะพะปัะบะพ ะพะฑัะฐะฑะพัะบะฐ HTTP ะทะฐะฟัะพัะพะฒ ะธ ะฒะฐะปะธะดะฐัะธั
- **Services** - ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ ะฟัะธะปะพะถะตะฝะธั
- **Repositories** - ัะฐะฑะพัะฐ ั ะฑะฐะทะพะน ะดะฐะฝะฝัั
- **Models** - ะผะพะดะตะปะธ ะดะฐะฝะฝัั (ะธัะฟะพะปัะทะพะฒะฐัั ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะต)

### ะะณัะฐะฝะธัะตะฝะธะต ัะฐะทะผะตัะฐ ัะฐะนะปะพะฒ:

- **ะะะฏะะะขะะะฌะะ:** ะะฐะถะดัะน ัะฐะนะป ะฝะต ะดะพะปะถะตะฝ ะฟัะตะฒััะฐัั 400 ัััะพะบ
- ะัะปะธ ัะฐะนะป ะฑะพะปััะต 400 ัััะพะบ - ัะฐะทะฑะธัั ะฝะฐ ะฝะตัะบะพะปัะบะพ ัะฐะนะปะพะฒ:
  - ะะฐะทะดะตะปะธัั handlers ะฟะพ ะผะตัะพะดะฐะผ (GET, POST, PUT, DELETE)
  - ะัะฝะตััะธ ะฑะธะทะฝะตั-ะปะพะณะธะบั ะฒ ัะตัะฒะธัั
  - ะัะฝะตััะธ ัะฐะฑะพัั ั ะะ ะฒ ัะตะฟะพะทะธัะพัะธะธ
  - ะะฐะทะดะตะปะธัั ะฝะฐ ะฟะพะดัะฐะนะปั ะฟะพ ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ

---

## ะัะธะผะตัั ัะพะพัะฒะตัััะฒะธั

### ะัะธะผะตั 1: Personal NPC Tool

**API-SWAGGER:**
```
API-SWAGGER/api/v1/gameplay/social/personal-npc-tool/
โโโ personal-npc-tool.yaml
โโโ personal-npc-tool-endpoints.yaml
โโโ personal-npc-tool-models.yaml
```

**BACK-GO:**
```
BACK-GO/internal/
โโโ api/generated/personal-npc-tool/     # ะกะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน ะบะพะด
โ   โโโ api.go
โ   โโโ models.go
โ   โโโ routers.go
โโโ handlers/gameplay/social/
โ   โโโ personal_npc_handler.go
โโโ services/gameplay/social/
โ   โโโ personal_npc_service.go
โโโ repositories/gameplay/social/
    โโโ personal_npc_repository.go
```

### ะัะธะผะตั 2: Equipment Matrix

**API-SWAGGER:**
```
API-SWAGGER/api/v1/gameplay/economy/equipment-matrix/
โโโ equipment-matrix.yaml
โโโ equipment-matrix-items.yaml
โโโ equipment-matrix-models.yaml
```

**BACK-GO:**
```
BACK-GO/internal/
โโโ api/generated/equipment-matrix/      # ะกะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน ะบะพะด
โ   โโโ api.go
โ   โโโ models.go
โโโ handlers/gameplay/economy/
โ   โโโ equipment_matrix_handler.go
โโโ services/gameplay/economy/
โ   โโโ equipment_matrix_service.go
โโโ repositories/gameplay/economy/
    โโโ equipment_matrix_repository.go
```

---

๐ **ะะฐะฒะธะณะฐัะธั:** [ะะญะะขะะกะ.MD](./ะะญะะขะะกะ.MD) | [ะะญะะขะะกะ-PROCESS.md](./ะะญะะขะะกะ-PROCESS.md) | [ะะญะะขะะกะ-REQUIREMENTS.md](./ะะญะะขะะกะ-REQUIREMENTS.md) | [ะะญะะขะะกะ-FAQ.md](./ะะญะะขะะกะ-FAQ.md)

