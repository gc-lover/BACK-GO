# –ö–∞—Å—Ç–æ–º–Ω—ã–µ Mustache —à–∞–±–ª–æ–Ω—ã –¥–ª—è OpenAPI Generator

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ Mustache —à–∞–±–ª–æ–Ω—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–∑ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏.

## ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —à–∞–±–ª–æ–Ω—ã

### Entity.mustache ‚úÖ –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JPA Entity –∫–ª–∞—Å—Å—ã –∏–∑ OpenAPI —Å—Ö–µ–º.

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ pom.xml:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `modelTemplateFiles` –≤ execution `generate-entities`
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ö–µ–º—ã –≤ `components/schemas`
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Entity –∫–ª–∞—Å—Å —Å JPA –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏
- –ü–∞–∫–µ—Ç: `com.necpgame.backjava.entity`
- –í—ã–≤–æ–¥: `target/generated-sources/entities/src/main/java/com/necpgame/backjava/entity/`

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```xml
<modelTemplateFiles>
    <modelTemplateFile>Entity.mustache</modelTemplateFile>
</modelTemplateFiles>
```

## ‚ùå –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —à–∞–±–ª–æ–Ω—ã (–∑–∞–≥–æ—Ç–æ–≤–∫–∏ –Ω–∞ –±—É–¥—É—â–µ–µ)

### Repository.mustache ‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
**–¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥:** –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç `scripts/generate-repositories.ps1`, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ entities –∏ —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

**–ü—Ä–∏—á–∏–Ω–∞:** OpenAPI Generator –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä—è–º—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ —á–µ—Ä–µ–∑ `modelTemplateFiles`, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å–æ —Å–∫—Ä–∏–ø—Ç–æ–º.

### Service.mustache ‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
**–¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥:** Services —Å–æ–∑–¥–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é.

**–°—Ç–∞—Ç—É—Å:** –ó–∞–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ –±—É–¥—É—â–µ–µ, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Services –∏–∑ OpenAPI –æ–ø–µ—Ä–∞—Ü–∏–π.

### ServiceImpl.mustache ‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
**–¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥:** Service —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é.

**–°—Ç–∞—Ç—É—Å:** –ó–∞–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ –±—É–¥—É—â–µ–µ, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Service —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –∏–∑ OpenAPI –æ–ø–µ—Ä–∞—Ü–∏–π.

### Migration.mustache ‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
**–¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥:** Flyway –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é.

**–°—Ç–∞—Ç—É—Å:** –ó–∞–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ –±—É–¥—É—â–µ–µ, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –∏–∑ OpenAPI —Å—Ö–µ–º.

### model.mustache ‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î—É–±–ª–∏–∫–∞—Ç `Entity.mustache`. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Entity.mustache` –≤–º–µ—Å—Ç–æ –Ω–µ–≥–æ.

**–°—Ç–∞—Ç—É—Å:** –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –¥—É–±–ª–∏–∫–∞—Ç.

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —à–∞–±–ª–æ–Ω–∞—Ö

OpenAPI Generator –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è `Entity.mustache`:

### –î–ª—è –º–æ–¥–µ–ª–µ–π (Entity):
- `{{classname}}` - –∏–º—è –∫–ª–∞—Å—Å–∞ –∏–∑ OpenAPI —Å—Ö–µ–º—ã
- `{{package}}` - –ø–∞–∫–µ—Ç –¥–ª—è –º–æ–¥–µ–ª–µ–π (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `modelPackage`)
- `{{vars}}` - —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö/–ø–æ–ª–µ–π –∏–∑ —Å—Ö–µ–º—ã
- `{{vars.*.name}}` - –∏–º—è –ø–æ–ª—è
- `{{vars.*.datatype}}` - —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—è
- `{{vars.*.baseName}}` - –±–∞–∑–æ–≤–æ–µ –∏–º—è –ø–æ–ª—è
- `{{vars.*.required}}` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª—è
- `{{vars.*.isPrimitiveType}}` - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–º —Ç–∏–ø–æ–º
- `{{vars.*.isString}}` - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä–æ–∫–æ–π
- `{{vars.*.isEmail}}` - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ email
- `{{vars.*.isInteger}}` - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º
- `{{vars.*.isId}}` - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ ID –ø–æ–ª–µ–º
- `{{vars.*.isUnique}}` - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º
- `{{vars.*.minLength}}` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞
- `{{vars.*.maxLength}}` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞
- `{{vars.*.pattern}}` - —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
- `{{vars.*.minimum}}` - –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `{{vars.*.maximum}}` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `{{#lambda.snake_case}}` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ snake_case
- `{{#lambda.capitalize}}` - –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–≤–æ–π –±—É–∫–≤—ã

## –¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1: DTOs/Models/Controllers
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã OpenAPI Generator (–Ω–µ –≤ —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏).

### –®–∞–≥ 2: JPA Entities
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Entity.mustache` —á–µ—Ä–µ–∑ `modelTemplateFiles` –≤ `pom.xml`.

### –®–∞–≥ 3: Repositories
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç `scripts/generate-repositories.ps1` (–Ω–µ —à–∞–±–ª–æ–Ω).

### –ö–æ–º–∞–Ω–¥–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
```bash
mvn clean generate-sources
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤:
- [OpenAPI Generator Templates](https://openapi-generator.tech/docs/templating)
- [Mustache Manual](https://mustache.github.io/mustache.5.html)
- [OpenAPI Generator Variables](https://openapi-generator.tech/docs/generators)

## –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

- üîÑ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é Services —á–µ—Ä–µ–∑ `Service.mustache` –∏ `ServiceImpl.mustache`
- üîÑ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é Migrations —á–µ—Ä–µ–∑ `Migration.mustache`
- üîÑ –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Repositories —á–µ—Ä–µ–∑ `Repository.mustache` –≤–º–µ—Å—Ç–æ —Å–∫—Ä–∏–ø—Ç–∞


